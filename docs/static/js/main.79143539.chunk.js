(this["webpackJsonpticket-app"]=this["webpackJsonpticket-app"]||[]).push([[0],{250:function(e,t,n){},390:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(32),i=n.n(a),o=(n(250),n(26)),s=n(25),u=n.n(s),j=n(36),l=n(46),d=n(41),b=n(37),p=n(125);n(391),n(255);p.a.initializeApp({apiKey:"AIzaSyC7uz7iJkkOxgtNy9cOdVdVKN4kkZ07NGQ",authDomain:"budget-calculator-react.firebaseapp.com",projectId:"budget-calculator-react",storageBucket:"budget-calculator-react.appspot.com",messagingSenderId:"378571334997",appId:"1:378571334997:web:9e5f3129f2ed71a081bbdc"});var O=p.a.firestore(),h=new p.a.auth.GoogleAuthProvider,f=n(395),m=n(71),x=n(400),y=n(44),g=n(413),v=n(414),I=n(415),w=n(416),k=n(417),E=n(9),C=n(399),P=n(393),S=n(398),F=n(401),T=n(403),N=n(407),q=function(){return{agente:localStorage.getItem("agente")||null,escritorio:localStorage.getItem("escritorio")||null}},L="[auth] Login",A="[auth] Logout",V="[ui] Start Loading Button",M="[ui] Finish Loading Button",R="[ui] Show Sidebar",z="[ui] Hide Sidebar",B="[ui] Open Modal",H="[ui] Close Modal",_="[ui] Open Modal Edit",D="[ui] Close Modal Edit",G="[ui] Start Loading Table",K="[ui] Finish Loading Table",U="[item] Load Items",W="[item] Add Item",J="[item] Total price items",X="[item]  Edit Item",Q="[item]  Delete Item",Y="[item]  Clean Items",Z="[proyecto] Load projects",$="[proyecto] set Active Project",ee="[proyecto] Add projects",te="[proyecto]  Edit projects",ne="[proyecto]  Delete projects",ce="[proyecto]  Clean LogOut",re=function(){return{type:R}},ae=function(){return{type:z}},ie=function(){return{type:H}},oe=function(){return{type:D}},se=function(){return{type:M}},ue=function(){return{type:G}},je=function(){return{type:K}},le=n(6),de=C.a.Title,be=C.a.Text,pe={labelCol:{span:8},wrapperCol:{span:14}},Oe={wrapperCol:{offset:8,span:14}},he=function(){var e=Object(o.b)();Object(c.useEffect)((function(){e(re())}),[e]);var t=Object(b.g)(),n=Object(c.useState)(q()),r=Object(l.a)(n,1)[0];return r.agente&&r.escritorio?Object(le.jsx)(b.a,{to:"/escritorio"}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(de,{level:2,children:" Ingresar"}),Object(le.jsx)(be,{children:"Ingrese su nombre y numero de escritorio"}),Object(le.jsx)(P.a,{}),Object(le.jsxs)(S.a,Object(E.a)(Object(E.a)({},pe),{},{name:"basic",initialValues:{remember:!0},onFinish:function(e){var n=e.agente,c=e.escritorio;localStorage.setItem("agente",n),localStorage.setItem("escritorio",c),t.push("/escritorio")},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(le.jsx)(S.a.Item,{label:"Nombre del Agente",name:"agente",rules:[{required:!0,message:"Por favor ingrese su nombre!"}],children:Object(le.jsx)(F.a,{})}),Object(le.jsx)(S.a.Item,{label:"Escritorio",name:"escritorio",rules:[{required:!0,message:"Por favor ingrese su escritorio!"}],children:Object(le.jsx)(T.a,{min:1,max:99})}),Object(le.jsx)(S.a.Item,Object(E.a)(Object(E.a)({},Oe),{},{children:Object(le.jsxs)(y.a,{type:"primary",htmlType:"submit",shape:"round",children:[Object(le.jsx)(N.a,{}),"Ingresar"]})}))]}))]})},fe=n(116),me=n(67),xe=n(405),ye=n(397),ge=n(406),ve=C.a.Title,Ie=C.a.Text,we=[{ticketNo:33,escritorio:3,agente:"Fernando Herrera"},{ticketNo:34,escritorio:4,agente:"Melissa Flores"},{ticketNo:35,escritorio:5,agente:"Carlos Castro"},{ticketNo:36,escritorio:3,agente:"Fernando Herrera"},{ticketNo:37,escritorio:3,agente:"Fernando Herrera"},{ticketNo:38,escritorio:2,agente:"Melissa Flores"},{ticketNo:39,escritorio:5,agente:"Carlos Castro"}],ke=function(){var e=Object(o.b)();return Object(c.useEffect)((function(){e(ae())}),[e]),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ve,{level:2,children:"Atendiendo al cliente:"}),Object(le.jsxs)(fe.a,{children:[Object(le.jsx)(me.a,{span:12,children:Object(le.jsx)(xe.b,{dataSource:we.slice(0,3),renderItem:function(e){return Object(le.jsx)(xe.b.Item,{children:Object(le.jsx)(ye.a,{style:{width:300,marginTop:16},actions:[Object(le.jsxs)(ge.a,{color:"volcano",children:[e.agente," "]}),Object(le.jsxs)(ge.a,{color:"magenta",children:["Escritorio ",e.escritorio," "]})],children:Object(le.jsxs)(ve,{level:2,align:" center",children:[" No. ",e.ticketNo]})})})}})}),Object(le.jsxs)(me.a,{span:12,children:[Object(le.jsx)(P.a,{children:"Historial"}),Object(le.jsx)(xe.b,{dataSource:we.slice(0,3),renderItem:function(e){return Object(le.jsx)(xe.b.Item,{children:Object(le.jsx)(xe.b.Item.Meta,{title:"Ticker No. ".concat(e.ticketNo),description:Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ie,{type:"secondary",children:" En el escritorio: "}),Object(le.jsx)(ge.a,{color:"magenta",children:e.ticketNo}),Object(le.jsx)(Ie,{type:"secondary",children:" Agente: "}),Object(le.jsx)(ge.a,{color:"volcano",children:e.agente})]})})})}})]})]})]})},Ee=n(408),Ce=C.a.Title,Pe=C.a.Text,Se=function(){var e=Object(o.b)();Object(c.useEffect)((function(){e(ae())}),[e]);return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(fe.a,{children:Object(le.jsxs)(me.a,{span:14,offset:6,align:"center",children:[Object(le.jsx)(Ce,{level:3,children:"Presione el boton para  un nuevo ticket"}),Object(le.jsx)(y.a,{type:"primary",shape:"round",icon:Object(le.jsx)(Ee.a,{}),size:"large",onClick:function(){console.log("Nuevo Ticket")},children:"Nuevo Ticket"})]})}),Object(le.jsx)(fe.a,{style:{marginTop:"90px"},children:Object(le.jsxs)(me.a,{span:14,offset:6,align:"center",children:[Object(le.jsx)(Pe,{level:2,children:"Su numero:"}),Object(le.jsx)("br",{}),Object(le.jsx)(Pe,{type:"success",style:{fontSize:"55px   "},children:"5"})]})})]})},Fe=n(161),Te=n(244),Ne=C.a.Title,qe=C.a.Text,Le=function(){var e=Object(b.g)(),t=Object(c.useState)(q()),n=Object(l.a)(t,1)[0];return n.agente||n.escritorio?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(fe.a,{children:[Object(le.jsxs)(me.a,{span:20,children:[Object(le.jsx)(Ne,{level:2,children:n.agente}),Object(le.jsx)(qe,{children:"Usted esta trabajando en el escritorio: "}),Object(le.jsxs)(qe,{type:"success",children:[" ",n.escritorio]})]}),Object(le.jsx)(me.a,{span:4,align:"right",children:Object(le.jsxs)(y.a,{type:"danger",shape:"round",onClick:function(){localStorage.clear(),e.push("/ingresar")},children:[Object(le.jsx)(Fe.a,{}),"Salir"]})})]}),Object(le.jsx)(P.a,{}),Object(le.jsx)(fe.a,{children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)(qe,{children:"Esta Atendiendo el ticket numero: "}),Object(le.jsx)(qe,{style:{fontSize:30},type:"danger",children:"55"})]})}),Object(le.jsx)(fe.a,{children:Object(le.jsx)(me.a,{offset:18,span:6,align:"right",children:Object(le.jsxs)(y.a,{type:"primary",shape:"round",onClick:function(){console.log("Siguiente Ticket")},children:[Object(le.jsx)(Te.a,{}),"Siguiente"]})})})]}):Object(le.jsx)(b.a,{to:"/ingresar"})},Ae=n(243),Ve=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("".concat(t,"/Esctritorio/proyectos/").concat(n,"/items")).get();case 2:return c=e.sent,r=[],c.forEach((function(e){r.push(Object(E.a)({key:e.id},e.data()))})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Me=function(e,t){return{type:W,payload:Object(E.a)({key:e},t)}},Re=function(e){return function(){var e=Object(j.a)(u.a.mark((function e(t,n){var c,r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n().auth.uid,r=n().proyecto.activeProject,t(ue()),e.next=5,Ve(c,r.id);case 5:a=e.sent,t(je()),i=0,(void 0!==a||a.length>0)&&a.forEach((function(e){i+=e.quantity*e.unityPrice})),t(He(a)),t(_e(i));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ze=function(e){return{type:X,payload:Object(E.a)({},e)}},Be=function(e){return{type:Q,payload:e}},He=function(e){return{type:U,payload:e}},_e=function(e){return{type:J,payload:e}},De=function(){return{type:Y}},Ge=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("".concat(t,"/Esctritorio/proyectos")).get();case 2:return n=e.sent,c=[],n.forEach((function(e){c.push(Object(E.a)({id:e.id},e.data()))})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(e){return{type:Z,payload:e}},Ue=function(e,t){return{type:ee,payload:Object(E.a)({id:e},t)}},We=function(e){return{type:ne,payload:e}},Je=function(e,t){return{type:te,payload:{id:e,project:Object(E.a)({id:e},t)}}},Xe=function(e,t){return{type:$,payload:Object(E.a)({id:e},t)}},Qe=n(409),Ye=n(394),Ze=n(396),$e=n(141),et=n(85),tt=r.a.createContext(null),nt=function(e){var t=e.title,n=e.editable,r=e.children,a=e.numeric,i=e.dataIndex,o=e.record,s=e.handleSave,d=Object(et.a)(e,["title","editable","children","numeric","dataIndex","record","handleSave"]),b=Object(c.useState)(!1),p=Object(l.a)(b,2),O=p[0],h=p[1],f=Object(c.useRef)(null),m=Object(c.useContext)(tt);Object(c.useEffect)((function(){O&&f.current.focus()}),[O]);var x=function(){h(!O),m.setFieldsValue(Object($e.a)({},i,o[i]))},y=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.validateFields();case 3:t=e.sent,x(),s(Object(E.a)(Object(E.a)({},o),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),g=r;return n&&(g=O?a?Object(le.jsx)(S.a.Item,{style:{margin:0},name:i,rules:[{required:!0,type:"number",min:1,message:"".concat(t," debe ser un numero mayor a 0.")}],children:Object(le.jsx)(T.a,{ref:f,onPressEnter:y,onBlur:y})}):Object(le.jsx)(S.a.Item,{style:{margin:0},name:i,rules:[{required:!0,message:"".concat(t," es obligatorio.")}],children:Object(le.jsx)(F.a,{ref:f,onPressEnter:y,onBlur:y})}):Object(le.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:x,children:r})),Object(le.jsx)("td",Object(E.a)(Object(E.a)({},d),{},{children:g}))},ct=function(e){e.index;var t=Object(et.a)(e,["index"]),n=S.a.useForm(),c=Object(l.a)(n,1)[0];return Object(le.jsx)(S.a,{form:c,component:!1,children:Object(le.jsx)(tt.Provider,{value:c,children:Object(le.jsx)("tr",Object(E.a)({},t))})})},rt=function(){var e=Object(o.c)((function(e){return e.presupuesto})).items,t=Object(o.c)((function(e){return e.ui})).loadingTable,n=Object(o.c)((function(e){return e.proyecto})).projects,r=Object(b.h)().id,a=Object(o.b)(),i=Object(c.useState)(e),s=Object(l.a)(i,2),d=s[0],p=s[1];Object(c.useEffect)((function(){n.length>=1&&a(Re())}),[a,r,n]),Object(c.useEffect)((function(){p(e)}),[e]),Object(c.useEffect)((function(){var t=0;e.forEach((function(e){t+=e.quantity*e.unityPrice})),a(_e(t))}),[e,a]);var h=function(e){a(function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n,c){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c().auth.uid,a=c().proyecto.activeProject,t.next=4,O.doc("".concat(r,"/Esctritorio/proyectos/").concat(a.id,"/items/").concat(e)).delete();case 4:n(Be(e));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(e))},f={body:{row:ct,cell:nt}},m=function(e){a(function(e,t){return function(){var n=Object(j.a)(u.a.mark((function n(c,r){var a,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r().auth.uid,i=r().proyecto.activeProject,n.next=4,O.doc("".concat(a,"/Esctritorio/proyectos/").concat(i.id,"/items/").concat(e)).update(t);case 4:c(ze(t));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(e.key,e))},x=[{title:"Item",dataIndex:"item",width:"30%",numeric:!1,editable:!0},{title:"Cantidad",dataIndex:"quantity",numeric:!0,editable:!0},{title:"Precio x Unidad",dataIndex:"unityPrice",numeric:!0,editable:!0},{title:"total",render:function(e,t){return Object(le.jsx)(le.Fragment,{children:t.quantity*t.unityPrice})}},{title:"Action",dataIndex:"Action",render:function(e,t){return Object(le.jsx)(Ye.a,{title:"Seguro que desea Eliminar?",onConfirm:function(){return h(t.key)},children:Object(le.jsx)(y.a,{shape:"circle",type:"danger",icon:Object(le.jsx)(Qe.a,{})})})}}].map((function(e){return e.editable?Object(E.a)(Object(E.a)({},e),{},{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,numeric:e.numeric,handleSave:m}}}):e}));return Object(le.jsx)(Ze.a,{dataSource:d,rowClassName:function(){return"editable-row"},components:f,columns:x,scroll:{y:370},loading:t})},at=C.a.Title,it=C.a.Text,ot=function(){var e=Object(o.c)((function(e){return e.presupuesto})).total,t=Object(o.c)((function(e){return e.proyecto})).activeProject,n=Object(b.h)().id,r=Object(c.useState)(5e4),a=Object(l.a)(r,1)[0],i=Object(c.useState)(e),s=Object(l.a)(i,2),d=s[0],p=s[1],h=Object(o.b)();Object(c.useEffect)((function(){p(e)}),[e]),Object(c.useEffect)((function(){h(re())}),[h]),Object(c.useEffect)((function(){h(function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n,c){var r,a,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c().auth.uid,t.next=3,O.doc("".concat(r,"/Esctritorio/proyectos/").concat(e)).get();case 3:a=t.sent,i=Object(E.a)({id:a.id},a.data()),n(Xe(a.id,i));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(n))}),[h,n]);return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(fe.a,{children:[Object(le.jsxs)(me.a,{span:18,children:[Object(le.jsxs)(at,{children:["Presupuesto( ",t.title,")"]}),Object(le.jsx)(it,{children:" Presupuesto Estimado: "}),Object(le.jsxs)(it,{type:"success",children:["L",a,"  "]}),Object(le.jsx)("br",{}),Object(le.jsx)(it,{children:" Presupuesto Actual: "}),Object(le.jsxs)(it,{type:a>d?"success":"danger",children:["L",d]})]}),Object(le.jsx)(me.a,{span:4,offset:2,children:Object(le.jsx)(y.a,{shape:"circle",type:"primary",icon:Object(le.jsx)(Ae.a,{}),style:{marginTop:20,width:50,height:50},onClick:function(){h(function(){var e=Object(j.a)(u.a.mark((function e(t,n){var c,r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n().proyecto.activeProject,r=n().auth.uid,a={item:"Item",quantity:0,unityPrice:0},e.next=5,O.collection("".concat(r,"/Esctritorio/proyectos/").concat(c.id,"/items")).add(a);case 5:i=e.sent,t(Me(i.id,a));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}})}),Object(le.jsx)(P.a,{})]}),Object(le.jsx)(rt,{})]})},st=n(410),ut=n(411),jt=n(412),lt=n(231),dt=n(238),bt=n(404),pt=n(402),Ot=C.a.Title,ht=function(){var e=Object(o.c)((function(e){return e.ui})).modalOpen,t=Object(o.b)(),n=function(e){var n=e.title,c=e.presupuestoInicial;t(function(e,t){return function(){var n=Object(j.a)(u.a.mark((function n(c,r){var a,i,o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r().auth.uid,i={title:e,presupuestoInicial:t,total:0},n.next=4,O.collection("".concat(a,"/Esctritorio/proyectos")).add(i);case 4:o=n.sent,c(Ue(o.id,i));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(n,c)),t(ie())};return Object(le.jsx)(pt.a,{title:Object(le.jsx)(Ot,{align:"center",level:3,children:"Nuevo Proyecto"}),visible:e,onOk:n,onCancel:function(){t(ie())},destroyOnClose:!0,footer:[Object(le.jsx)(y.a,{form:"addForm",type:"primary",htmlType:"submit",children:"Guardar"},"submit")],children:Object(le.jsxs)(S.a,{id:"addForm",onFinish:n,children:[Object(le.jsx)(S.a.Item,{label:"Nombre del projecto",name:"title",rules:[{required:!0,message:"Por favor ingrese un nombre Valido!"}],children:Object(le.jsx)(F.a,{})}),Object(le.jsx)(S.a.Item,{label:"Presupuesto Establecido",name:"presupuestoInicial",rules:[{required:!0,type:"number",min:1,message:"Ingrese un numero mayor que 0"}],children:Object(le.jsx)(T.a,{})})]})})},ft=C.a.Title,mt=function(){var e=Object(o.c)((function(e){return e.ui})).modalEditOpen,t=Object(o.c)((function(e){return e.proyecto})).activeProject,n=Object(o.b)(),c=t.id,r=t.title,a=t.presupuestoInicial,i=t.total;return Object(le.jsx)(pt.a,{title:Object(le.jsx)(ft,{align:"center",level:3,children:" Editar Proyecto "}),visible:e,onCancel:function(){n(oe())},destroyOnClose:!0,footer:[Object(le.jsx)(y.a,{form:"editForm",type:"primary",htmlType:"submit",children:"Guardar"},"submit")],children:Object(le.jsxs)(S.a,{id:"editForm",onFinish:function(e){var t={title:e.title,presupuestoInicial:e.presupuestoInicial,total:i};console.log(t),n(function(e,t){return function(){var n=Object(j.a)(u.a.mark((function n(c,r){var a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r().auth.uid,n.next=3,O.doc("".concat(a,"/Esctritorio/proyectos/").concat(e)).update(t);case 3:c(Je(e,t));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(c,t)),n(oe())},initialValues:{title:r,presupuestoInicial:a},children:[Object(le.jsx)(S.a.Item,{label:"Nombre del projecto",name:"title",rules:[{required:!0,message:"Por favor ingrese un nombre Valido!"}],children:Object(le.jsx)(F.a,{})}),Object(le.jsx)(S.a.Item,{label:"Presupuesto Establecido",name:"presupuestoInicial",rules:[{required:!0,type:"number",min:1,message:"Ingrese un numero mayor que 0"}],children:Object(le.jsx)(T.a,{})})]})})},xt=C.a.Title,yt=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.proyecto})).projects,n=Object(o.c)((function(e){return e.ui})).loadingTable,r=Object(b.g)();Object(c.useEffect)((function(){e(re())}),[e]),Object(c.useEffect)((function(){e(De())}),[e]);var a=function(t,n){e(Xe(t,n)),e({type:_})},i=function(t){e(function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n,c){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c().auth.uid,t.next=3,O.doc("".concat(r,"/Esctritorio/proyectos/").concat(e)).delete();case 3:n(We(e));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)(fe.a,{children:[Object(le.jsx)(me.a,{span:20,children:Object(le.jsx)(xt,{children:"Proyectos"})}),Object(le.jsx)(me.a,{span:2,offset:1,children:Object(le.jsx)(y.a,{shape:"circle",type:"primary",onClick:function(){e({type:B})},icon:Object(le.jsx)(Ae.a,{}),style:{marginTop:20,width:60,height:60}})}),Object(le.jsx)(P.a,{}),Object(le.jsx)(ht,{})]}),Object(le.jsx)(xe.b,{className:"demo-loadmore-list",loading:n,itemLayout:"horizontal",dataSource:t,renderItem:function(t){return Object(le.jsx)(xe.b.Item,{actions:[Object(le.jsx)(lt.a,{content:"Presupuesto",children:Object(le.jsx)(y.a,{shape:"circle",onClick:function(){return n=t.id,c=t,e(Re()),e(Xe(n,c)),void r.push("/presupuesto/".concat(n));var n,c},icon:Object(le.jsx)(st.a,{style:{color:"white"}}),style:{backgroundColor:"#1BAE6C"}})}),Object(le.jsx)(lt.a,{content:"Editar",children:Object(le.jsx)(y.a,{shape:"circle",onClick:function(){return a(t.id,t)},icon:Object(le.jsx)(ut.a,{}),style:{backgroundColor:"#FCD200"}})}),Object(le.jsx)(lt.a,{content:"Eliminar",children:Object(le.jsx)(Ye.a,{title:"Esta seguro que desea Eliminar el proyecto?",onConfirm:function(){return i(t.id)},children:Object(le.jsx)(y.a,{shape:"circle",type:"danger",icon:Object(le.jsx)(jt.a,{})})})})],children:Object(le.jsx)(dt.a,{title:!1,loading:n,active:!0,children:Object(le.jsx)(xe.b.Item.Meta,{title:t.title,description:Object(le.jsx)(bt.a,{value:t.presupuestoInicial,valueStyle:{color:"#3f8600"},suffix:"L"})})})})}}),Object(le.jsx)(mt,{})]})},gt=n(234),vt=n(191),It=n.n(vt),wt=function(e,t){return{type:L,payload:{uid:e,name:t}}},kt=function(e,t){return function(n){n({type:V}),p.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;n(wt(t.uid,t.displayName)),n(se())})).catch((function(e){It.a.fire("Error",e.message,"error"),n(se())}))}},Et=function(){return{type:A}},Ct=f.a.Sider,Pt=f.a.Content,St=m.a.Item,Ft=function(){var e=Object(o.c)((function(e){return e.ui})).menuOpen,t=Object(o.c)((function(e){return e.auth})).name,n=Object(o.b)();return Object(le.jsxs)(f.a,{style:{height:"100vh"},children:[Object(le.jsxs)(Ct,{collapsedWidth:"0",breakpoint:"md",hidden:e,children:[Object(le.jsx)("div",{className:"logo"}),Object(le.jsxs)(m.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],selectedKeys:["1"],children:[Object(le.jsx)(St,{icon:Object(le.jsx)(g.a,{}),children:Object(le.jsx)(d.b,{to:"/proyecto",children:"Proyectos"})},"1"),Object(le.jsx)(St,{icon:Object(le.jsx)(v.a,{}),children:Object(le.jsx)(d.b,{to:"/ingresar",children:"Ingresar"})},"2"),Object(le.jsx)(St,{icon:Object(le.jsx)(I.a,{}),children:Object(le.jsx)(d.b,{to:"/cola",children:"Cola"})},"3"),Object(le.jsx)(St,{icon:Object(le.jsx)(w.a,{}),children:Object(le.jsx)(d.b,{to:"/crear",children:"Crear Ticket"})},"4")]})]}),Object(le.jsxs)(f.a,{className:"site-layout",children:[Object(le.jsx)(gt.Header,{className:"site-layout-background",style:{padding:0},children:Object(le.jsx)(x.a,{title:t,className:"site-page-header",extra:[Object(le.jsx)(y.a,{type:"danger",shape:"round",onClick:function(){n(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.auth().signOut();case 2:t(De()),t({type:ce}),t(Et());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},icon:Object(le.jsx)(k.a,{}),children:" Salir"},"1")]})}),Object(le.jsx)(Pt,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:280,overflow:"auto"},children:Object(le.jsxs)(b.d,{children:[Object(le.jsx)(b.b,{exact:!0,path:"/ingresar",component:he}),Object(le.jsx)(b.b,{exact:!0,path:"/cola",component:ke}),Object(le.jsx)(b.b,{exact:!0,path:"/crear",component:Se}),Object(le.jsx)(b.b,{exact:!0,path:"/presupuesto/:id",component:ot}),Object(le.jsx)(b.b,{exact:!0,path:"/proyecto",component:yt}),Object(le.jsx)(b.b,{exact:!0,path:"/proyecto",component:yt}),Object(le.jsx)(b.b,{exact:!0,path:"/escritorio",component:Le}),Object(le.jsx)(b.a,{to:"/ingresar"})]})})]})]})},Tt=n(418),Nt={labelCol:{span:10},wrapperCol:{span:14}},qt={wrapperCol:{offset:5,span:16}},Lt=function(){var e=Object(o.b)();return Object(le.jsx)("div",{className:"site-card-border-less-wrapper",style:{height:"100vh"},children:Object(le.jsx)(fe.a,{justify:"center",children:Object(le.jsx)(me.a,{span:10,children:Object(le.jsx)(ye.a,{title:"Bienvenido",bordered:!1,style:{textAlign:"center",marginTop:150,marginRight:15,borderRadius:5},children:Object(le.jsxs)(S.a,Object(E.a)(Object(E.a)({},Nt),{},{name:"basic",initialValues:{remember:!0},onFinish:function(t){var n=t.email,c=t.password;e(kt(n,c))},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(le.jsx)(S.a.Item,{label:"Correo Electronico",name:"email",rules:[{required:!0,type:"email",message:"Por Favor ingrese un Email valido!"}],children:Object(le.jsx)(F.a,{})}),Object(le.jsx)(S.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Por favor ingrese su contrase\xf1a!"}],children:Object(le.jsx)(F.a.Password,{})}),Object(le.jsx)(S.a.Item,Object(E.a)(Object(E.a)({},qt),{},{children:Object(le.jsx)(me.a,{span:24,children:Object(le.jsx)(y.a,{type:"primary",htmlType:"submit",block:!0,children:"Ingresar"})})})),Object(le.jsx)(S.a.Item,Object(E.a)(Object(E.a)({},qt),{},{children:Object(le.jsx)(me.a,{md:{span:24},lg:{span:24},children:Object(le.jsx)(y.a,{type:"ghost",onClick:function(){e(function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.auth().signInWithPopup(h);case 3:n=e.sent,c=n.user,t(wt(c.uid,c.displayName)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},icon:Object(le.jsx)(Tt.a,{}),block:!0,children:"Login con Google"})})})),Object(le.jsx)(S.a.Item,Object(E.a)(Object(E.a)({},qt),{},{children:Object(le.jsx)(me.a,{md:{pull:4},lg:{span:12,push:5},children:Object(le.jsx)(d.b,{to:"/auth/register",children:"Crea una cuenta"})})}))]}))})})})})},At={labelCol:{span:11},wrapperCol:{span:13}},Vt={wrapperCol:{offset:5,span:16}},Mt=function(){var e=Object(o.b)();return Object(le.jsx)("div",{className:"site-card-border-less-wrapper",style:{height:"100vh"},children:Object(le.jsx)(fe.a,{justify:"center",children:Object(le.jsx)(me.a,{span:10,children:Object(le.jsx)(ye.a,{title:"Registrarse",bordered:!1,style:{textAlign:"center",marginTop:150,marginRight:15,borderRadius:10},children:Object(le.jsxs)(S.a,Object(E.a)(Object(E.a)({},At),{},{name:"basic",initialValues:{remember:!0},onFinish:function(t){var n=t.email,c=t.password,r=t.name;e(function(e,t,n){return function(c){p.a.auth().createUserWithEmailAndPassword(e,t).then(function(){var e=Object(j.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.user,e.next=3,r.updateProfile({displayName:n});case 3:c(wt(r.uid,r.displayName));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),It.a.fire("Error",e.message,"error")}))}}(n,c,r))},onFinishFailed:function(e){},children:[Object(le.jsx)(S.a.Item,{label:"Nombre",name:"name",rules:[{required:!0,message:"Por Favor ingrese su nombre!"}],children:Object(le.jsx)(F.a,{})}),Object(le.jsx)(S.a.Item,{label:"Correo Electronico",name:"email",rules:[{required:!0,type:"email",message:"Por Favor ingrese un Email valido!"}],children:Object(le.jsx)(F.a,{})}),Object(le.jsx)(S.a.Item,{label:"Contrase\xf1a",name:"password",rules:[{required:!0,message:"Por favor ingrese una contrase\xf1a mayor a 6 caracteres!",min:6}],children:Object(le.jsx)(F.a.Password,{})}),Object(le.jsx)(S.a.Item,{label:"Confirmar Contrase\xf1a",name:"password2",rules:[{required:!0,message:"Por favor confirme su contrase\xf1a!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject("Las contrase\xf1as no coinciden"):Promise.resolve()}}}],children:Object(le.jsx)(F.a.Password,{})}),Object(le.jsx)(S.a.Item,Object(E.a)(Object(E.a)({},Vt),{},{children:Object(le.jsx)(me.a,{span:24,children:Object(le.jsx)(y.a,{type:"primary",htmlType:"submit",block:!0,children:"Registrarse"})})})),Object(le.jsx)(S.a.Item,Object(E.a)(Object(E.a)({},Vt),{},{children:Object(le.jsx)(me.a,{md:{pul:4},lg:{span:16,push:4},children:Object(le.jsx)(d.b,{to:"/auth/login",children:"Ya tiene una cuenta?"})})}))]}))})})})})},Rt=function(){return Object(le.jsx)("div",{children:Object(le.jsxs)(b.d,{children:[Object(le.jsx)(b.b,{exact:!0,path:"/auth/login",component:Lt}),Object(le.jsx)(b.b,{exact:!0,path:"/auth/register",component:Mt}),Object(le.jsx)(b.a,{to:"/auth/login"})]})})},zt=function(e){var t=e.isLoggedIn,n=e.component,c=Object(et.a)(e,["isLoggedIn","component"]);return Object(le.jsx)(b.b,Object(E.a)(Object(E.a)({},c),{},{component:function(e){return t?Object(le.jsx)(n,Object(E.a)({},e)):Object(le.jsx)(b.a,{to:"/auth/login"})}}))},Bt=function(e){var t=e.isLoggedIn,n=e.component,c=Object(et.a)(e,["isLoggedIn","component"]);return Object(le.jsx)(b.b,Object(E.a)(Object(E.a)({},c),{},{component:function(e){return t?Object(le.jsx)(b.a,{to:"/proyecto"}):Object(le.jsx)(n,Object(E.a)({},e))}}))},Ht=n(154),_t=function(){var e=Object(o.b)(),t=Object(c.useState)(!0),n=Object(l.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),s=Object(l.a)(i,2),O=s[0],h=s[1];return Object(c.useEffect)((function(){p.a.auth().onAuthStateChanged(function(){var t=Object(j.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===n||void 0===n?void 0:n.uid)?(e(wt(n.uid,n.displayName)),e(function(){var e=Object(j.a)(u.a.mark((function e(t,n){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n().auth.uid,t(ue()),e.next=4,Ge(c);case 4:r=e.sent,t(je()),t(Ke(r));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h(!0)):h(!1),a(!1);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e,a,h]),r?Object(le.jsxs)(fe.a,{justify:"center",children:[" ",Object(le.jsx)(Ht.a,{style:{marginTop:200},size:"large"})," "]}):Object(le.jsx)(d.a,{children:Object(le.jsx)("div",{children:Object(le.jsxs)(b.d,{children:[Object(le.jsx)(Bt,{path:"/auth",component:Rt,isLoggedIn:O}),Object(le.jsx)(zt,{path:"/",component:Ft,isLoggedIn:O}),Object(le.jsx)(b.a,{to:"/auth/login"})]})})})},Dt=n(89),Gt=n(235),Kt={uid:null,name:null},Ut=n(115),Wt={items:[],total:0},Jt={projects:[],activeProject:{}},Xt={menuOpen:!1,modalOpen:!1,modalEditOpen:!1,loading:!1,loadingTable:!1},Qt=Object(Dt.c)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(E.a)(Object(E.a)({},e),{},{menuOpen:!0});case R:return Object(E.a)(Object(E.a)({},e),{},{menuOpen:!1});case B:return Object(E.a)(Object(E.a)({},e),{},{modalOpen:!0});case H:return Object(E.a)(Object(E.a)({},e),{},{modalOpen:!1});case _:return Object(E.a)(Object(E.a)({},e),{},{modalEditOpen:!0});case D:return Object(E.a)(Object(E.a)({},e),{},{modalEditOpen:!1});case V:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case M:return Object(E.a)(Object(E.a)({},e),{},{loading:!1});case G:return Object(E.a)(Object(E.a)({},e),{},{loadingTable:!0});case K:return Object(E.a)(Object(E.a)({},e),{},{loadingTable:!1});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(E.a)(Object(E.a)({},e),{},{uid:t.payload.uid,name:t.payload.name});case A:return Kt;default:return e}},presupuesto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(E.a)(Object(E.a)({},e),{},{items:Object(Ut.a)(t.payload)});case J:return Object(E.a)(Object(E.a)({},e),{},{total:t.payload});case W:return Object(E.a)(Object(E.a)({},e),{},{items:[t.payload].concat(Object(Ut.a)(e.items))});case X:return Object(E.a)(Object(E.a)({},e),{},{items:e.items.map((function(e){return e.key===t.payload.key?t.payload:e}))});case Q:return Object(E.a)(Object(E.a)({},e),{},{items:e.items.filter((function(e){return e.key!==t.payload}))});case Y:return Wt;default:return e}},proyecto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(E.a)(Object(E.a)({},e),{},{projects:[t.payload].concat(Object(Ut.a)(e.projects))});case Z:return Object(E.a)(Object(E.a)({},e),{},{projects:Object(Ut.a)(t.payload)});case $:return Object(E.a)(Object(E.a)({},e),{},{activeProject:Object(E.a)({},t.payload)});case ne:return Object(E.a)(Object(E.a)({},e),{},{projects:e.projects.filter((function(e){return e.id!==t.payload}))});case ce:return Jt;case te:return Object(E.a)(Object(E.a)({},e),{},{projects:e.projects.map((function(e){return e.id===t.payload.id?t.payload.project:e}))});default:return e}}}),Yt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Dt.d,Zt=Object(Dt.e)(Qt,Yt(Object(Dt.a)(Gt.a))),$t=function(){return Object(le.jsx)(o.a,{store:Zt,children:Object(le.jsx)(_t,{})})};i.a.render(Object(le.jsx)($t,{}),document.getElementById("root"))}},[[390,1,2]]]);
//# sourceMappingURL=main.79143539.chunk.js.map